{"ast":null,"code":"import { actions, roles } from \"constants.js\";\nconst mappings = new Map();\nmappings.set(actions.MODIFY_FILE, [roles.ADMIN, roles.EDITOR]);\nmappings.set(actions.VIEW_FILE, [roles.ADMIN, roles.EDITOR, roles.GUEST]);\nmappings.set(actions.DELETE_FILE, [roles.ADMIN]);\nmappings.set(actions.CREATE_FILE, [roles.ADMIN, roles.EDITOR]);\nfunction hasPermission(file, action) {\n  if (!(file !== null && file !== void 0 && file.accessLevel)) {\n    return false;\n  }\n  if (mappings.has(action)) {\n    return mappings.get(action).includes(file.accessLevel);\n  }\n  return false;\n}\nexport default hasPermission;\nexport { actions, roles };","map":{"version":3,"names":["actions","roles","mappings","Map","set","MODIFY_FILE","ADMIN","EDITOR","VIEW_FILE","GUEST","DELETE_FILE","CREATE_FILE","hasPermission","file","action","accessLevel","has","get","includes"],"sources":["C:/Users/parad/Programming/PetProjects/tile_website/frontend/src/perm/Permissions.js"],"sourcesContent":["import { actions, roles } from \"constants.js\";\r\n\r\nconst mappings = new Map();\r\n\r\nmappings.set(actions.MODIFY_FILE, [roles.ADMIN, roles.EDITOR]);\r\nmappings.set(actions.VIEW_FILE, [roles.ADMIN, roles.EDITOR, roles.GUEST]);\r\nmappings.set(actions.DELETE_FILE, [roles.ADMIN]);\r\nmappings.set(actions.CREATE_FILE, [roles.ADMIN, roles.EDITOR]);\r\n\r\n\r\nfunction hasPermission(file, action) {\r\n    if (!file?.accessLevel) {\r\n      return false;\r\n    }\r\n  \r\n    if (mappings.has(action)) {\r\n      return mappings.get(action).includes(file.accessLevel);\r\n    }\r\n  \r\n    return false;\r\n  }\r\n  \r\n  export default hasPermission;\r\n  export { actions, roles };"],"mappings":"AAAA,SAASA,OAAO,EAAEC,KAAK,QAAQ,cAAc;AAE7C,MAAMC,QAAQ,GAAG,IAAIC,GAAG,CAAC,CAAC;AAE1BD,QAAQ,CAACE,GAAG,CAACJ,OAAO,CAACK,WAAW,EAAE,CAACJ,KAAK,CAACK,KAAK,EAAEL,KAAK,CAACM,MAAM,CAAC,CAAC;AAC9DL,QAAQ,CAACE,GAAG,CAACJ,OAAO,CAACQ,SAAS,EAAE,CAACP,KAAK,CAACK,KAAK,EAAEL,KAAK,CAACM,MAAM,EAAEN,KAAK,CAACQ,KAAK,CAAC,CAAC;AACzEP,QAAQ,CAACE,GAAG,CAACJ,OAAO,CAACU,WAAW,EAAE,CAACT,KAAK,CAACK,KAAK,CAAC,CAAC;AAChDJ,QAAQ,CAACE,GAAG,CAACJ,OAAO,CAACW,WAAW,EAAE,CAACV,KAAK,CAACK,KAAK,EAAEL,KAAK,CAACM,MAAM,CAAC,CAAC;AAG9D,SAASK,aAAaA,CAACC,IAAI,EAAEC,MAAM,EAAE;EACjC,IAAI,EAACD,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAEE,WAAW,GAAE;IACtB,OAAO,KAAK;EACd;EAEA,IAAIb,QAAQ,CAACc,GAAG,CAACF,MAAM,CAAC,EAAE;IACxB,OAAOZ,QAAQ,CAACe,GAAG,CAACH,MAAM,CAAC,CAACI,QAAQ,CAACL,IAAI,CAACE,WAAW,CAAC;EACxD;EAEA,OAAO,KAAK;AACd;AAEA,eAAeH,aAAa;AAC5B,SAASZ,OAAO,EAAEC,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}